ifeq ($(PLAYER),)
	PLAYER=MPD
	# PLAYER=MPD # MPD VOLUMIO RUNEAUDIO
endif

ifeq ($(PLAYER),VOLUMIO)
	PLAYERLIBS=-lcurl -ljsoncpp
else ifeq ($(PLAYER),RUNEAUDIO)
	PLAYERLIBS=-li2c
endif

CPPFLAGS=-W -Wall -Wno-unused-variable -Wno-unused-parameter \
	 -Wno-strict-aliasing -Ofast -D$(PLAYER)

PROG_NAME=audio_fifos
includes = $(wildcard *.h)

# make all
all: $(PROG_NAME)

# Make the library
OBJECTS=audio_multi_fifo.o status_msg.o utils.o programopts.o \
         ultragetopt.o
$(OBJECTS): $(includes)
$(PROG_NAME): $(OBJECTS)
	$(CXX) $(LDFLAGS) -o $@ $^

clean:
	rm -rf *.o $(PROG_NAME)
